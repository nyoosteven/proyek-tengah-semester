{% extends 'base.html' %}

{% block content %}

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script>
  $(document).ready(function () {
    $.get("{% url 'user_profile:show_json' %}", function (data) {
      var clas = ['bg-card-1', 'bg-card-2','bg-card-3', 'bg-card-4','bg-card-5', 'bg-card-6'];
      var i = 0;
      $.each(data, function(index, value) {
        if (i === 6){
          i = 0;
        }
        var $items = $(
          `
                <div class="col-6 col-md-3 col-xxl-2 grid-item">
                  <div class="card border-0 rounded-0 ${clas[i]} w-90">  
                    <div class="card-body border border-2 bg-card-body">
                      <span class="h3 font-secular-one mb-0">"</span>
                      <div>
                        <h5 class="card-title">${value.fields.text}</h5>
                        <p>${value.fields.desc}</p>
                      </div>
                      <div class="d-flex justify-content-end align-items-end">
                        {% if not request.user.is_authenticated %}
                        <small class="text-muted">Login untuk melihat username</small>
                        {% else %}
                        <small class="text-muted">${value.fields.username}</small>
                        {% endif %}
                      </div>
                    </div>
                  </div>
                </div>
          `
        );
        $(".grid").prepend($items).masonry('prepended', $items );
        i++;
      });

      $('.grid').masonry({
        // options
        itemSelector: '.grid-item',
      });
    });
  })
</script>

<section style="background-color: #eee;">
  <div class="container py-5 mt-5">
      <div class="col-lg-12">
        <div class="card mb-4">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">First Name</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.first_name}}</p>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Last Name</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.last_name}}</p>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Age</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.age}}</p>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Birth Date</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.date_birth}}</p>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Email</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.email}}</p>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Phone Number</p>
              </div>
              <div class="col-sm-9">
                <p class="text-muted mb-0">{{user.phone_number}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- cards -->
      <h4>My Quotes</h4>
      <div class="album py-5 bg-album">
        <div class="container">
          <div class="row g-4 grid" id="contener"></div>
        </div>
      </div>
    </div>
  </div>
</section>




{% endblock content %}